{"ast":null,"code":"// energy-api.js\nimport { HOST } from \"./commons/hosts\";\nvar endpoint = {\n  getDeviceIds: '/getDeviceIds',\n  getDailyData: '/daily'\n};\nHOST.backend_energy = \"http://localhost:7070\";\nfunction getDeviceIds(token, secretKey) {\n  var url = HOST.backend_energy + endpoint.getDeviceIds;\n  console.log('Token:', token);\n  console.log('Secret Key:', secretKey);\n  return fetch(url, {\n    method: 'GET',\n    headers: {\n      'Authorization': \"Bearer \".concat(token),\n      'Secret-Key': secretKey\n    }\n  }).then(function (response) {\n    console.log('Response:', response);\n    if (!response.ok) {\n      throw new Error(\"Failed to fetch device IDs. Status: \".concat(response.status));\n    }\n    return response.json();\n  }).then(function (data) {\n    console.log('Device IDs:', data);\n    return data;\n  }).catch(function (error) {\n    console.error('Error fetching device IDs:', error.message);\n    throw error;\n  });\n}\nfunction getDailyData(selectedDevice, formattedDate, token, secretKey) {\n  var url = \"\".concat(HOST.backend_energy).concat(endpoint.getDailyData, \"/\").concat(selectedDevice, \"/\").concat(formattedDate);\n  return fetch(url, {\n    method: 'GET',\n    headers: {\n      'Authorization': \"Bearer \".concat(token),\n      'Secret-Key': secretKey\n    }\n  }).then(function (response) {\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    return response.json();\n  }).catch(function (error) {\n    console.error('Error fetching daily energy data:', error);\n    throw error;\n  });\n}\nexport { getDeviceIds, getDailyData };","map":{"version":3,"names":["HOST","endpoint","getDeviceIds","getDailyData","backend_energy","token","secretKey","url","console","log","fetch","method","headers","concat","then","response","ok","Error","status","json","data","catch","error","message","selectedDevice","formattedDate"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/src/energy-api.js"],"sourcesContent":["// energy-api.js\r\nimport {HOST} from \"./commons/hosts\";\r\n\r\nconst endpoint = {\r\n    getDeviceIds: '/getDeviceIds',\r\n    getDailyData: '/daily',\r\n};\r\n\r\nHOST.backend_energy = \"http://localhost:7070\";\r\n\r\nfunction getDeviceIds(token, secretKey) {\r\n    const url = HOST.backend_energy + endpoint.getDeviceIds;\r\n\r\n    console.log('Token:', token);\r\n    console.log('Secret Key:', secretKey);\r\n\r\n    return fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Secret-Key': secretKey,\r\n        },\r\n    })\r\n        .then(response => {\r\n            console.log('Response:', response);\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to fetch device IDs. Status: ${response.status}`);\r\n            }\r\n\r\n            return response.json();\r\n        })\r\n        .then(data => {\r\n            console.log('Device IDs:', data);\r\n            return data;\r\n        })\r\n        .catch(error => {\r\n            console.error('Error fetching device IDs:', error.message);\r\n            throw error;\r\n        });\r\n}\r\n\r\n\r\n\r\nfunction getDailyData(selectedDevice, formattedDate, token, secretKey) {\r\n    const url = `${HOST.backend_energy}${endpoint.getDailyData}/${selectedDevice}/${formattedDate}`;\r\n\r\n    return fetch(url, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Secret-Key': secretKey,\r\n        },\r\n    })\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n\r\n            return response.json();\r\n        })\r\n        .catch(error => {\r\n            console.error('Error fetching daily energy data:', error);\r\n            throw error;\r\n        });\r\n}\r\n\r\nexport {\r\n    getDeviceIds,\r\n    getDailyData,\r\n};\r\n"],"mappings":"AAAA;AACA,SAAQA,IAAI,QAAO,iBAAiB;AAEpC,IAAMC,QAAQ,GAAG;EACbC,YAAY,EAAE,eAAe;EAC7BC,YAAY,EAAE;AAClB,CAAC;AAEDH,IAAI,CAACI,cAAc,GAAG,uBAAuB;AAE7C,SAASF,YAAYA,CAACG,KAAK,EAAEC,SAAS,EAAE;EACpC,IAAMC,GAAG,GAAGP,IAAI,CAACI,cAAc,GAAGH,QAAQ,CAACC,YAAY;EAEvDM,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEJ,KAAK,CAAC;EAC5BG,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEH,SAAS,CAAC;EAErC,OAAOI,KAAK,CAACH,GAAG,EAAE;IACdI,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACL,eAAe,YAAAC,MAAA,CAAYR,KAAK,CAAE;MAClC,YAAY,EAAEC;IAClB;EACJ,CAAC,CAAC,CACGQ,IAAI,CAAC,UAAAC,QAAQ,EAAI;IACdP,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEM,QAAQ,CAAC;IAClC,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,wCAAAJ,MAAA,CAAwCE,QAAQ,CAACG,MAAM,CAAE,CAAC;IAC7E;IAEA,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,CACDL,IAAI,CAAC,UAAAM,IAAI,EAAI;IACVZ,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEW,IAAI,CAAC;IAChC,OAAOA,IAAI;EACf,CAAC,CAAC,CACDC,KAAK,CAAC,UAAAC,KAAK,EAAI;IACZd,OAAO,CAACc,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAACC,OAAO,CAAC;IAC1D,MAAMD,KAAK;EACf,CAAC,CAAC;AACV;AAIA,SAASnB,YAAYA,CAACqB,cAAc,EAAEC,aAAa,EAAEpB,KAAK,EAAEC,SAAS,EAAE;EACnE,IAAMC,GAAG,MAAAM,MAAA,CAAMb,IAAI,CAACI,cAAc,EAAAS,MAAA,CAAGZ,QAAQ,CAACE,YAAY,OAAAU,MAAA,CAAIW,cAAc,OAAAX,MAAA,CAAIY,aAAa,CAAE;EAE/F,OAAOf,KAAK,CAACH,GAAG,EAAE;IACdI,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACL,eAAe,YAAAC,MAAA,CAAYR,KAAK,CAAE;MAClC,YAAY,EAAEC;IAClB;EACJ,CAAC,CAAC,CACGQ,IAAI,CAAC,UAAAC,QAAQ,EAAI;IACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAClD;IAEA,OAAOF,QAAQ,CAACI,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,CACDE,KAAK,CAAC,UAAAC,KAAK,EAAI;IACZd,OAAO,CAACc,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;IACzD,MAAMA,KAAK;EACf,CAAC,CAAC;AACV;AAEA,SACIpB,YAAY,EACZC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}