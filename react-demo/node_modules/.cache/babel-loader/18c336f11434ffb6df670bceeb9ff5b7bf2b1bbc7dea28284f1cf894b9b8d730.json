{"ast":null,"code":"import _classCallCheck from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"D:\\\\MATERIALE AN 4 SEM 1\\\\SD\\\\proiect\\\\ds2023_30642_fazakas_edina_assignment_1\\\\react-demo\\\\src\\\\mydevices\\\\mydevice-container.js\";\nimport React, { Component } from 'react';\nimport { Card, CardHeader, Col, Row } from 'reactstrap';\nimport DeviceTable from '../device/components/device-table';\nimport * as API_DEVICES from './api/mydevice-api';\nimport APIResponseErrorMessage from '../commons/errorhandling/api-response-error-message';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css'; // Import the styles\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar MyDeviceContainer = /*#__PURE__*/function (_Component) {\n  _inherits(MyDeviceContainer, _Component);\n  var _super = _createSuper(MyDeviceContainer);\n  function MyDeviceContainer(props) {\n    var _this;\n    _classCallCheck(this, MyDeviceContainer);\n    _this = _super.call(this, props);\n    _this.handleDateChange = function (date) {\n      _this.setState({\n        selectedDate: date\n      });\n    };\n    _this.fetchUserDevices = _this.fetchUserDevices.bind(_assertThisInitialized(_this));\n    _this.state = {\n      tableData: [],\n      isLoaded: false,\n      errorStatus: 0,\n      error: null,\n      isDeleteFormVisible: false,\n      isEditFormVisible: false,\n      editingDeviceId: null,\n      username: '',\n      userId: null,\n      selectedDate: new Date() // Initialize selectedDate with today's date\n    };\n    return _this;\n  }\n  _createClass(MyDeviceContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      var state = this.props.location.state;\n      if (state && state.userId) {\n        this.setState({\n          userId: state.userId\n        }, function () {\n          _this2.fetchUserDevices();\n        });\n      } else {\n        console.error('UserID is missing.');\n      }\n    }\n  }, {\n    key: \"fetchUserDevices\",\n    value: function fetchUserDevices() {\n      var _this3 = this;\n      console.log('UserId in MyDeviceContainer:', this.state.userId);\n      if (!this.state.userId) {\n        console.error('UserID is missing.');\n        return;\n      }\n\n      // Fetch devices associated with the userId and selected date\n      API_DEVICES.getClientsDevices(this.state.userId, this.state.selectedDate, function (result, status, err) {\n        if (result !== null && status === 200) {\n          _this3.setState({\n            tableData: result,\n            isLoaded: true\n          });\n        } else {\n          _this3.setState({\n            errorStatus: status,\n            error: err\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"View My Devices\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Select Date: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n              selected: this.state.selectedDate,\n              onChange: this.handleDateChange,\n              dateFormat: \"yyyy-MM-dd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.fetchUserDevices,\n              children: \"Show Chart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              sm: {\n                size: '9',\n                offset: 1\n              },\n              children: [this.state.isLoaded ? /*#__PURE__*/_jsxDEV(DeviceTable, {\n                tableData: this.state.tableData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this) : 'Loading data...', this.state.errorStatus > 0 && /*#__PURE__*/_jsxDEV(APIResponseErrorMessage, {\n                errorStatus: this.state.errorStatus,\n                error: this.state.error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n  return MyDeviceContainer;\n}(Component);\nexport default MyDeviceContainer;","map":{"version":3,"names":["React","Component","Card","CardHeader","Col","Row","DeviceTable","API_DEVICES","APIResponseErrorMessage","DatePicker","jsxDEV","_jsxDEV","MyDeviceContainer","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleDateChange","date","setState","selectedDate","fetchUserDevices","bind","_assertThisInitialized","state","tableData","isLoaded","errorStatus","error","isDeleteFormVisible","isEditFormVisible","editingDeviceId","username","userId","Date","_createClass","key","value","componentDidMount","_this2","location","console","_this3","log","getClientsDevices","result","status","err","render","children","fileName","_jsxFileName","lineNumber","columnNumber","selected","onChange","dateFormat","onClick","sm","size","offset"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/src/mydevices/mydevice-container.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Card, CardHeader, Col, Row } from 'reactstrap';\r\nimport DeviceTable from '../device/components/device-table';\r\nimport * as API_DEVICES from './api/mydevice-api';\r\nimport APIResponseErrorMessage from '../commons/errorhandling/api-response-error-message';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css'; // Import the styles\r\n\r\nclass MyDeviceContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.fetchUserDevices = this.fetchUserDevices.bind(this);\r\n        this.state = {\r\n            tableData: [],\r\n            isLoaded: false,\r\n            errorStatus: 0,\r\n            error: null,\r\n            isDeleteFormVisible: false,\r\n            isEditFormVisible: false,\r\n            editingDeviceId: null,\r\n            username: '',\r\n            userId: null,\r\n            selectedDate: new Date(), // Initialize selectedDate with today's date\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { state } = this.props.location;\r\n        if (state && state.userId) {\r\n            this.setState({ userId: state.userId }, () => {\r\n                this.fetchUserDevices();\r\n            });\r\n        } else {\r\n            console.error('UserID is missing.');\r\n        }\r\n    }\r\n\r\n    handleDateChange = (date) => {\r\n        this.setState({ selectedDate: date });\r\n    };\r\n\r\n    fetchUserDevices() {\r\n        console.log('UserId in MyDeviceContainer:', this.state.userId);\r\n\r\n        if (!this.state.userId) {\r\n            console.error('UserID is missing.');\r\n            return;\r\n        }\r\n\r\n        // Fetch devices associated with the userId and selected date\r\n        API_DEVICES.getClientsDevices(this.state.userId, this.state.selectedDate, (result, status, err) => {\r\n            if (result !== null && status === 200) {\r\n                this.setState({\r\n                    tableData: result,\r\n                    isLoaded: true,\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    errorStatus: status,\r\n                    error: err,\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <CardHeader>\r\n                    <strong>View My Devices</strong>\r\n                    <div>\r\n                        <label>Select Date: </label>\r\n                        <DatePicker\r\n                            selected={this.state.selectedDate}\r\n                            onChange={this.handleDateChange}\r\n                            dateFormat=\"yyyy-MM-dd\"\r\n                        />\r\n                        <button onClick={this.fetchUserDevices}>Show Chart</button>\r\n                    </div>\r\n                </CardHeader>\r\n                <Card>\r\n                    <br />\r\n                    <Row>\r\n                        <Col sm={{ size: '9', offset: 1 }}>\r\n                            {this.state.isLoaded ? (\r\n                                <DeviceTable tableData={this.state.tableData} />\r\n                            ) : (\r\n                                'Loading data...'\r\n                            )}\r\n                            {this.state.errorStatus > 0 && (\r\n                                <APIResponseErrorMessage\r\n                                    errorStatus={this.state.errorStatus}\r\n                                    error={this.state.error}\r\n                                />\r\n                            )}\r\n                        </Col>\r\n                    </Row>\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MyDeviceContainer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}