{"ast":null,"code":"// chat.js\n\nvar stompClient = null;\nfunction connect() {\n  var socket = new SockJS('/chat');\n  stompClient = Stomp.over(socket);\n  stompClient.connect({}, function (frame) {\n    stompClient.subscribe('/topic/messages', function (response) {\n      showMessage(JSON.parse(response.body));\n    });\n  });\n}\nfunction showMessage(message) {\n  $('#chat').append('<div><b>' + message.sender + ':</b> ' + message.content + '</div>');\n}\nfunction sendMessage() {\n  var message = {\n    content: $('#message').val(),\n    sender: 'admin' // Change this to user for user messages\n  };\n\n  stompClient.send(\"/app/chat\", {}, JSON.stringify(message));\n}\n$(document).ready(function () {\n  connect();\n});","map":{"version":3,"names":["stompClient","connect","socket","SockJS","Stomp","over","frame","subscribe","response","showMessage","JSON","parse","body","message","$","append","sender","content","sendMessage","val","send","stringify","document","ready"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/src/ChatComponent.js"],"sourcesContent":["// chat.js\r\n\r\nvar stompClient = null;\r\n\r\nfunction connect() {\r\n    var socket = new SockJS('/chat');\r\n    stompClient = Stomp.over(socket);\r\n    stompClient.connect({}, function (frame) {\r\n        stompClient.subscribe('/topic/messages', function (response) {\r\n            showMessage(JSON.parse(response.body));\r\n        });\r\n    });\r\n}\r\n\r\nfunction showMessage(message) {\r\n    $('#chat').append('<div><b>' + message.sender + ':</b> ' + message.content + '</div>');\r\n}\r\n\r\nfunction sendMessage() {\r\n    var message = {\r\n        content: $('#message').val(),\r\n        sender: 'admin' // Change this to user for user messages\r\n    };\r\n    stompClient.send(\"/app/chat\", {}, JSON.stringify(message));\r\n}\r\n\r\n$(document).ready(function () {\r\n    connect();\r\n});\r\n"],"mappings":"AAAA;;AAEA,IAAIA,WAAW,GAAG,IAAI;AAEtB,SAASC,OAAOA,CAAA,EAAG;EACf,IAAIC,MAAM,GAAG,IAAIC,MAAM,CAAC,OAAO,CAAC;EAChCH,WAAW,GAAGI,KAAK,CAACC,IAAI,CAACH,MAAM,CAAC;EAChCF,WAAW,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE,UAAUK,KAAK,EAAE;IACrCN,WAAW,CAACO,SAAS,CAAC,iBAAiB,EAAE,UAAUC,QAAQ,EAAE;MACzDC,WAAW,CAACC,IAAI,CAACC,KAAK,CAACH,QAAQ,CAACI,IAAI,CAAC,CAAC;IAC1C,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AAEA,SAASH,WAAWA,CAACI,OAAO,EAAE;EAC1BC,CAAC,CAAC,OAAO,CAAC,CAACC,MAAM,CAAC,UAAU,GAAGF,OAAO,CAACG,MAAM,GAAG,QAAQ,GAAGH,OAAO,CAACI,OAAO,GAAG,QAAQ,CAAC;AAC1F;AAEA,SAASC,WAAWA,CAAA,EAAG;EACnB,IAAIL,OAAO,GAAG;IACVI,OAAO,EAAEH,CAAC,CAAC,UAAU,CAAC,CAACK,GAAG,CAAC,CAAC;IAC5BH,MAAM,EAAE,OAAO,CAAC;EACpB,CAAC;;EACDhB,WAAW,CAACoB,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAEV,IAAI,CAACW,SAAS,CAACR,OAAO,CAAC,CAAC;AAC9D;AAEAC,CAAC,CAACQ,QAAQ,CAAC,CAACC,KAAK,CAAC,YAAY;EAC1BtB,OAAO,CAAC,CAAC;AACb,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}