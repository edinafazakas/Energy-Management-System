{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport Stomp from 'webstomp-client';\n\n// Assume you have included Stomp.js library in your HTML file\n\n// Connect to WebSocket server\nvar socket = new SockJS('/chat');\nvar stompClient = Stomp.over(socket);\n\n// Connect to Stomp endpoint\nstompClient.connect({}, function (frame) {\n  console.log('Connected: ' + frame);\n\n  // Subscribe to the topic\n  stompClient.subscribe('/topic/messages', function (response) {\n    var message = JSON.parse(response.body);\n    displayMessage(message.sender, message.content);\n  });\n});\n\n// Function to send a message\nfunction sendMessage() {\n  var content = document.getElementById('messageInput').value;\n  var sender = \"YourUsername\"; // Set your username here\n\n  var message = {\n    content: content,\n    sender: sender\n  };\n\n  // Send the message to the server\n  stompClient.send(\"/app/chat\", {}, JSON.stringify(message));\n\n  // Clear the input field\n  document.getElementById('messageInput').value = '';\n}\n\n// Function to display a message\nfunction displayMessage(sender, content) {\n  var chatBox = document.getElementById('chatBox');\n  var messageElement = document.createElement('div');\n  messageElement.innerHTML = '<strong>' + sender + ':</strong> ' + content;\n  chatBox.appendChild(messageElement);\n}\n\n// Call sendMessage function when the send button is clicked\ndocument.getElementById('sendButton').addEventListener('click', sendMessage);","map":{"version":3,"names":["React","useState","useEffect","Stomp","socket","SockJS","stompClient","over","connect","frame","console","log","subscribe","response","message","JSON","parse","body","displayMessage","sender","content","sendMessage","document","getElementById","value","send","stringify","chatBox","messageElement","createElement","innerHTML","appendChild","addEventListener"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/src/ChatComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Stomp from 'webstomp-client';\r\n\r\n// Assume you have included Stomp.js library in your HTML file\r\n\r\n// Connect to WebSocket server\r\nvar socket = new SockJS('/chat');\r\nvar stompClient = Stomp.over(socket);\r\n\r\n// Connect to Stomp endpoint\r\nstompClient.connect({}, function (frame) {\r\n    console.log('Connected: ' + frame);\r\n\r\n    // Subscribe to the topic\r\n    stompClient.subscribe('/topic/messages', function (response) {\r\n        var message = JSON.parse(response.body);\r\n        displayMessage(message.sender, message.content);\r\n    });\r\n});\r\n\r\n// Function to send a message\r\nfunction sendMessage() {\r\n    var content = document.getElementById('messageInput').value;\r\n    var sender = \"YourUsername\"; // Set your username here\r\n\r\n    var message = {\r\n        content: content,\r\n        sender: sender\r\n    };\r\n\r\n    // Send the message to the server\r\n    stompClient.send(\"/app/chat\", {}, JSON.stringify(message));\r\n\r\n    // Clear the input field\r\n    document.getElementById('messageInput').value = '';\r\n}\r\n\r\n// Function to display a message\r\nfunction displayMessage(sender, content) {\r\n    var chatBox = document.getElementById('chatBox');\r\n    var messageElement = document.createElement('div');\r\n    messageElement.innerHTML = '<strong>' + sender + ':</strong> ' + content;\r\n    chatBox.appendChild(messageElement);\r\n}\r\n\r\n// Call sendMessage function when the send button is clicked\r\ndocument.getElementById('sendButton').addEventListener('click', sendMessage);\r\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,iBAAiB;;AAEnC;;AAEA;AACA,IAAIC,MAAM,GAAG,IAAIC,MAAM,CAAC,OAAO,CAAC;AAChC,IAAIC,WAAW,GAAGH,KAAK,CAACI,IAAI,CAACH,MAAM,CAAC;;AAEpC;AACAE,WAAW,CAACE,OAAO,CAAC,CAAC,CAAC,EAAE,UAAUC,KAAK,EAAE;EACrCC,OAAO,CAACC,GAAG,CAAC,aAAa,GAAGF,KAAK,CAAC;;EAElC;EACAH,WAAW,CAACM,SAAS,CAAC,iBAAiB,EAAE,UAAUC,QAAQ,EAAE;IACzD,IAAIC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,QAAQ,CAACI,IAAI,CAAC;IACvCC,cAAc,CAACJ,OAAO,CAACK,MAAM,EAAEL,OAAO,CAACM,OAAO,CAAC;EACnD,CAAC,CAAC;AACN,CAAC,CAAC;;AAEF;AACA,SAASC,WAAWA,CAAA,EAAG;EACnB,IAAID,OAAO,GAAGE,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACC,KAAK;EAC3D,IAAIL,MAAM,GAAG,cAAc,CAAC,CAAC;;EAE7B,IAAIL,OAAO,GAAG;IACVM,OAAO,EAAEA,OAAO;IAChBD,MAAM,EAAEA;EACZ,CAAC;;EAED;EACAb,WAAW,CAACmB,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,EAAEV,IAAI,CAACW,SAAS,CAACZ,OAAO,CAAC,CAAC;;EAE1D;EACAQ,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACC,KAAK,GAAG,EAAE;AACtD;;AAEA;AACA,SAASN,cAAcA,CAACC,MAAM,EAAEC,OAAO,EAAE;EACrC,IAAIO,OAAO,GAAGL,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;EAChD,IAAIK,cAAc,GAAGN,QAAQ,CAACO,aAAa,CAAC,KAAK,CAAC;EAClDD,cAAc,CAACE,SAAS,GAAG,UAAU,GAAGX,MAAM,GAAG,aAAa,GAAGC,OAAO;EACxEO,OAAO,CAACI,WAAW,CAACH,cAAc,CAAC;AACvC;;AAEA;AACAN,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACS,gBAAgB,CAAC,OAAO,EAAEX,WAAW,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}