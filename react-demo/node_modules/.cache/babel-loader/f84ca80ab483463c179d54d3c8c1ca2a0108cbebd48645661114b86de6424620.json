{"ast":null,"code":"'use strict';\n\nvar EventEmitter = require('events').EventEmitter,\n  inherits = require('inherits'),\n  http = require('http'),\n  https = require('https'),\n  URL = require('url-parse');\nvar debug = function debug() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:driver:xhr');\n}\nfunction XhrDriver(method, url, payload, opts) {\n  debug(method, url, payload);\n  var self = this;\n  EventEmitter.call(this);\n  var parsedUrl = new URL(url);\n  var options = {\n    method: method,\n    hostname: parsedUrl.hostname.replace(/\\[|\\]/g, ''),\n    port: parsedUrl.port,\n    path: parsedUrl.pathname + (parsedUrl.query || ''),\n    headers: opts && opts.headers\n  };\n  var protocol = parsedUrl.protocol === 'https:' ? https : http;\n  this.req = protocol.request(options, function (res) {\n    res.setEncoding('utf8');\n    var responseText = '';\n    res.on('data', function (chunk) {\n      debug('data', chunk);\n      responseText += chunk;\n      self.emit('chunk', 200, responseText);\n    });\n    res.once('end', function () {\n      debug('end');\n      self.emit('finish', res.statusCode, responseText);\n      self.req = null;\n    });\n  });\n  this.req.on('error', function (e) {\n    debug('error', e);\n    self.emit('finish', 0, e.message);\n  });\n  if (payload) {\n    this.req.write(payload);\n  }\n  this.req.end();\n}\ninherits(XhrDriver, EventEmitter);\nXhrDriver.prototype.close = function () {\n  debug('close');\n  this.removeAllListeners();\n  if (this.req) {\n    this.req.abort();\n    this.req = null;\n  }\n};\nXhrDriver.enabled = true;\nXhrDriver.supportsCORS = true;\nmodule.exports = XhrDriver;","map":{"version":3,"names":["EventEmitter","require","inherits","http","https","URL","debug","process","env","NODE_ENV","XhrDriver","method","url","payload","opts","self","call","parsedUrl","options","hostname","replace","port","path","pathname","query","headers","protocol","req","request","res","setEncoding","responseText","on","chunk","emit","once","statusCode","e","message","write","end","prototype","close","removeAllListeners","abort","enabled","supportsCORS","module","exports"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/sockjs-client/lib/transport/driver/xhr.js"],"sourcesContent":["'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , http = require('http')\n  , https = require('https')\n  , URL = require('url-parse')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:driver:xhr');\n}\n\nfunction XhrDriver(method, url, payload, opts) {\n  debug(method, url, payload);\n  var self = this;\n  EventEmitter.call(this);\n\n  var parsedUrl = new URL(url);\n  var options = {\n    method: method\n  , hostname: parsedUrl.hostname.replace(/\\[|\\]/g, '')\n  , port: parsedUrl.port\n  , path: parsedUrl.pathname + (parsedUrl.query || '')\n  , headers: opts && opts.headers\n  };\n\n  var protocol = parsedUrl.protocol === 'https:' ? https : http;\n  this.req = protocol.request(options, function(res) {\n    res.setEncoding('utf8');\n    var responseText = '';\n\n    res.on('data', function(chunk) {\n      debug('data', chunk);\n      responseText += chunk;\n      self.emit('chunk', 200, responseText);\n    });\n    res.once('end', function() {\n      debug('end');\n      self.emit('finish', res.statusCode, responseText);\n      self.req = null;\n    });\n  });\n\n  this.req.on('error', function(e) {\n    debug('error', e);\n    self.emit('finish', 0, e.message);\n  });\n\n  if (payload) {\n    this.req.write(payload);\n  }\n  this.req.end();\n}\n\ninherits(XhrDriver, EventEmitter);\n\nXhrDriver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.req) {\n    this.req.abort();\n    this.req = null;\n  }\n};\n\nXhrDriver.enabled = true;\nXhrDriver.supportsCORS = true;\n\nmodule.exports = XhrDriver;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}