{"ast":null,"code":"import { HOST } from '../../commons/hosts';\nimport RestApiClient from \"../../commons/api/rest-client\";\nvar endpoint = {\n  device: '/devices',\n  createDevice: '/createDevice',\n  deleteDevice: '/deleteDevice',\n  editDevice: '/updateDevice'\n};\nfunction getDevices(callback, token, secretKey) {\n  var request = new Request(HOST.backend_devices + endpoint.device, {\n    method: 'GET',\n    headers: {\n      'Authorization': \"Bearer \".concat(token),\n      'Secret-Key': secretKey\n    }\n  });\n  RestApiClient.performRequest(request, callback);\n}\nfunction createDevice(device, callback, secretKey) {\n  var token = sessionStorage.getItem('token');\n  var request = new Request(HOST.backend_devices + endpoint.createDevice, {\n    method: 'POST',\n    headers: {\n      'Authorization': \"Bearer \".concat(token),\n      'Secret-Key': secretKey,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(device)\n  });\n  RestApiClient.performRequest(request, callback);\n}\nfunction deleteDevice(id, callback, secretKey) {\n  var token = sessionStorage.getItem('token');\n  var request = new Request(HOST.backend_devices + endpoint.deleteDevice + '/' + id, {\n    method: 'DELETE',\n    headers: {\n      'Authorization': \"Bearer \".concat(token),\n      'Secret-Key': secretKey\n    }\n  });\n  RestApiClient.performRequest(request, callback);\n}\nfunction editDevice(id, device, callback, secretKey) {\n  var token = sessionStorage.getItem('token');\n  var request = new Request(HOST.backend_devices + endpoint.editDevice + '/' + id, {\n    method: 'PATCH',\n    headers: {\n      'Authorization': \"Bearer \".concat(token),\n      'Secret-Key': secretKey,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(device)\n  });\n  RestApiClient.performRequest(request, callback);\n}\nexport { getDevices, createDevice, deleteDevice, editDevice };","map":{"version":3,"names":["HOST","RestApiClient","endpoint","device","createDevice","deleteDevice","editDevice","getDevices","callback","token","secretKey","request","Request","backend_devices","method","headers","concat","performRequest","sessionStorage","getItem","body","JSON","stringify","id"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/src/device/api/device-api.js"],"sourcesContent":["import { HOST } from '../../commons/hosts';\r\nimport RestApiClient from \"../../commons/api/rest-client\";\r\n\r\nconst endpoint = {\r\n    device: '/devices',\r\n    createDevice: '/createDevice',\r\n    deleteDevice: '/deleteDevice',\r\n    editDevice: '/updateDevice'\r\n};\r\n\r\nfunction getDevices(callback, token, secretKey) {\r\n    let request = new Request(HOST.backend_devices + endpoint.device, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Secret-Key': secretKey,\r\n        },\r\n    });\r\n\r\n    RestApiClient.performRequest(request, callback);\r\n}\r\n\r\nfunction createDevice(device, callback, secretKey) {\r\n    const token = sessionStorage.getItem('token');\r\n    let request = new Request(HOST.backend_devices + endpoint.createDevice, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Secret-Key': secretKey,\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(device),\r\n    });\r\n\r\n    RestApiClient.performRequest(request, callback);\r\n}\r\n\r\nfunction deleteDevice(id, callback, secretKey) {\r\n    const token = sessionStorage.getItem('token');\r\n    let request = new Request(HOST.backend_devices + endpoint.deleteDevice + '/' + id, {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Secret-Key': secretKey,\r\n        },\r\n    });\r\n\r\n    RestApiClient.performRequest(request, callback);\r\n}\r\n\r\nfunction editDevice(id, device, callback, secretKey) {\r\n    const token = sessionStorage.getItem('token');\r\n    let request = new Request(HOST.backend_devices + endpoint.editDevice + '/' + id, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Secret-Key': secretKey,\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(device),\r\n    });\r\n\r\n    RestApiClient.performRequest(request, callback);\r\n}\r\n\r\nexport {\r\n    getDevices,\r\n    createDevice,\r\n    deleteDevice,\r\n    editDevice\r\n};\r\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,qBAAqB;AAC1C,OAAOC,aAAa,MAAM,+BAA+B;AAEzD,IAAMC,QAAQ,GAAG;EACbC,MAAM,EAAE,UAAU;EAClBC,YAAY,EAAE,eAAe;EAC7BC,YAAY,EAAE,eAAe;EAC7BC,UAAU,EAAE;AAChB,CAAC;AAED,SAASC,UAAUA,CAACC,QAAQ,EAAEC,KAAK,EAAEC,SAAS,EAAE;EAC5C,IAAIC,OAAO,GAAG,IAAIC,OAAO,CAACZ,IAAI,CAACa,eAAe,GAAGX,QAAQ,CAACC,MAAM,EAAE;IAC9DW,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACL,eAAe,YAAAC,MAAA,CAAYP,KAAK,CAAE;MAClC,YAAY,EAAEC;IAClB;EACJ,CAAC,CAAC;EAEFT,aAAa,CAACgB,cAAc,CAACN,OAAO,EAAEH,QAAQ,CAAC;AACnD;AAEA,SAASJ,YAAYA,CAACD,MAAM,EAAEK,QAAQ,EAAEE,SAAS,EAAE;EAC/C,IAAMD,KAAK,GAAGS,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAC7C,IAAIR,OAAO,GAAG,IAAIC,OAAO,CAACZ,IAAI,CAACa,eAAe,GAAGX,QAAQ,CAACE,YAAY,EAAE;IACpEU,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,eAAe,YAAAC,MAAA,CAAYP,KAAK,CAAE;MAClC,YAAY,EAAEC,SAAS;MACvB,QAAQ,EAAE,kBAAkB;MAC5B,cAAc,EAAE;IACpB,CAAC;IACDU,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACnB,MAAM;EAC/B,CAAC,CAAC;EAEFF,aAAa,CAACgB,cAAc,CAACN,OAAO,EAAEH,QAAQ,CAAC;AACnD;AAEA,SAASH,YAAYA,CAACkB,EAAE,EAAEf,QAAQ,EAAEE,SAAS,EAAE;EAC3C,IAAMD,KAAK,GAAGS,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAC7C,IAAIR,OAAO,GAAG,IAAIC,OAAO,CAACZ,IAAI,CAACa,eAAe,GAAGX,QAAQ,CAACG,YAAY,GAAG,GAAG,GAAGkB,EAAE,EAAE;IAC/ET,MAAM,EAAE,QAAQ;IAChBC,OAAO,EAAE;MACL,eAAe,YAAAC,MAAA,CAAYP,KAAK,CAAE;MAClC,YAAY,EAAEC;IAClB;EACJ,CAAC,CAAC;EAEFT,aAAa,CAACgB,cAAc,CAACN,OAAO,EAAEH,QAAQ,CAAC;AACnD;AAEA,SAASF,UAAUA,CAACiB,EAAE,EAAEpB,MAAM,EAAEK,QAAQ,EAAEE,SAAS,EAAE;EACjD,IAAMD,KAAK,GAAGS,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAC7C,IAAIR,OAAO,GAAG,IAAIC,OAAO,CAACZ,IAAI,CAACa,eAAe,GAAGX,QAAQ,CAACI,UAAU,GAAG,GAAG,GAAGiB,EAAE,EAAE;IAC7ET,MAAM,EAAE,OAAO;IACfC,OAAO,EAAE;MACL,eAAe,YAAAC,MAAA,CAAYP,KAAK,CAAE;MAClC,YAAY,EAAEC,SAAS;MACvB,QAAQ,EAAE,kBAAkB;MAC5B,cAAc,EAAE;IACpB,CAAC;IACDU,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACnB,MAAM;EAC/B,CAAC,CAAC;EAEFF,aAAa,CAACgB,cAAc,CAACN,OAAO,EAAEH,QAAQ,CAAC;AACnD;AAEA,SACID,UAAU,EACVH,YAAY,EACZC,YAAY,EACZC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}