{"ast":null,"code":"import _classCallCheck from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"D:\\\\MATERIALE AN 4 SEM 1\\\\SD\\\\proiect\\\\ds2023_30642_fazakas_edina_assignment_1\\\\react-demo\\\\src\\\\commons\\\\tables\\\\table.js\";\nimport React, { Component } from \"react\";\nimport ReactTable from \"react-table\";\nimport \"react-table/react-table.css\";\nimport Field from \"./fields/Field\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar Table = /*#__PURE__*/function (_Component) {\n  _inherits(Table, _Component);\n  var _super = _createSuper(Table);\n  function Table(props) {\n    var _this;\n    _classCallCheck(this, Table);\n    _this = _super.call(this, props);\n    _this.handleRowClick = function (rowIndex) {\n      _this.setState({\n        selectedRowIndex: rowIndex\n      });\n    };\n    _this.state = {\n      data: props.data,\n      columns: props.columns,\n      search: props.search,\n      filters: [],\n      pageSize: props.pageSize || 10,\n      selectedRow: null\n    };\n    return _this;\n  }\n  _createClass(Table, [{\n    key: \"search\",\n    value: function search() {}\n  }, {\n    key: \"filter\",\n    value: function filter(data) {\n      var accepted = true;\n      this.state.filters.forEach(function (val) {\n        if (String(val.value) === \"\") {\n          accepted = true;\n        }\n        if (!String(data[val.accessor]).includes(String(val.value)) && !String(val.value).includes(String(data[val.accessor]))) {\n          accepted = false;\n        }\n      });\n      return accepted;\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(value, index, header) {\n      if (this.state.filters === undefined) this.setState({\n        filters: []\n      });\n      this.state.filters[index] = {\n        value: value.target.value,\n        accessor: header\n      };\n      this.forceUpdate();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var data = this.state.data ? this.state.data.filter(function (data) {\n        return _this2.filter(data);\n      }) : [];\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: this.state.search.map(function (header, index) {\n            return /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Field, {\n                  id: header.accessor,\n                  label: header.accessor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 37\n                }, _this2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 33\n              }, _this2)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, _this2);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(ReactTable, {\n              data: data,\n              resolveData: function resolveData(data) {\n                return data.map(function (row) {\n                  return row;\n                });\n              },\n              columns: this.state.columns,\n              defaultPageSize: this.state.pageSize,\n              showPagination: true,\n              getTrProps: function getTrProps(state, rowInfo) {\n                if (rowInfo) {\n                  return {\n                    onClick: function onClick() {\n                      return _this2.handleRowClick(rowInfo.index);\n                    },\n                    style: {\n                      background: rowInfo.index === _this2.state.selectedRowIndex ? \"#ADD8E6\" : \"white\"\n                    }\n                  };\n                } else {\n                  return {};\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n  return Table;\n}(Component);\nexport default Table;","map":{"version":3,"names":["React","Component","ReactTable","Field","Col","Row","jsxDEV","_jsxDEV","Table","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleRowClick","rowIndex","setState","selectedRowIndex","state","data","columns","search","filters","pageSize","selectedRow","_createClass","key","value","filter","accepted","forEach","val","String","accessor","includes","handleChange","index","header","undefined","target","forceUpdate","render","_this2","children","map","id","label","fileName","_jsxFileName","lineNumber","columnNumber","resolveData","row","defaultPageSize","showPagination","getTrProps","rowInfo","onClick","style","background"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/src/commons/tables/table.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport ReactTable from \"react-table\";\r\nimport \"react-table/react-table.css\";\r\nimport Field from \"./fields/Field\";\r\nimport { Col, Row } from \"react-bootstrap\";\r\n\r\nclass Table extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            data: props.data,\r\n            columns: props.columns,\r\n            search: props.search,\r\n            filters: [],\r\n            pageSize: props.pageSize || 10,\r\n            selectedRow: null,\r\n        };\r\n    }\r\n\r\n    search() {}\r\n\r\n    filter(data) {\r\n        let accepted = true;\r\n\r\n        this.state.filters.forEach((val) => {\r\n            if (String(val.value) === \"\") {\r\n                accepted = true;\r\n            }\r\n\r\n            if (\r\n                !String(data[val.accessor]).includes(String(val.value)) &&\r\n                !String(val.value).includes(String(data[val.accessor]))\r\n            ) {\r\n                accepted = false;\r\n            }\r\n        });\r\n\r\n        return accepted;\r\n    }\r\n\r\n    handleRowClick = (rowIndex) => {\r\n        this.setState({ selectedRowIndex: rowIndex });\r\n    };\r\n\r\n\r\n\r\n    handleChange(value, index, header) {\r\n        if (this.state.filters === undefined)\r\n            this.setState({ filters: [] });\r\n\r\n        this.state.filters[index] = {\r\n            value: value.target.value,\r\n            accessor: header,\r\n        };\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render() {\r\n        let data = this.state.data\r\n            ? this.state.data.filter((data) => this.filter(data))\r\n            : [];\r\n\r\n\r\n\r\n        return (\r\n            <div>\r\n                <Row>\r\n                    {this.state.search.map((header, index) => {\r\n                        return (\r\n                            <Col key={index}>\r\n                                <div>\r\n                                    <Field\r\n                                        id={header.accessor}\r\n                                        label={header.accessor}\r\n                                    />\r\n                                </div>\r\n                            </Col>\r\n                        );\r\n                    })}\r\n                </Row>\r\n                <Row>\r\n                    <Col>\r\n                        <ReactTable\r\n                            data={data}\r\n                            resolveData={(data) => data.map((row) => row)}\r\n                            columns={this.state.columns}\r\n                            defaultPageSize={this.state.pageSize}\r\n                            showPagination={true}\r\n                            getTrProps={(state, rowInfo) => {\r\n                                if (rowInfo) {\r\n                                    return {\r\n                                        onClick: () => this.handleRowClick(rowInfo.index),\r\n                                        style: {\r\n                                            background: rowInfo.index === this.state.selectedRowIndex ? \"#ADD8E6\" : \"white\",\r\n                                        },\r\n                                    };\r\n                                } else {\r\n                                    return {};\r\n                                }\r\n                            }}\r\n\r\n\r\n                        />\r\n\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Table;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}