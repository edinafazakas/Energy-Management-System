{"ast":null,"code":"import _regeneratorRuntime from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"D:\\\\MATERIALE AN 4 SEM 1\\\\SD\\\\proiect\\\\ds2023_30642_fazakas_edina_assignment_1\\\\react-demo\\\\src\\\\energyConsumption.js\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport CalendarComponent from './calendarComponent';\nimport LineChart from './lineChart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar EnergyConsumption = function EnergyConsumption() {\n  _s();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedDate = _useState2[0],\n    setSelectedDate = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedDevice = _useState4[0],\n    setSelectedDevice = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    energyData = _useState6[0],\n    setEnergyData = _useState6[1];\n  var handleDateSelect = function handleDateSelect(date) {\n    setSelectedDate(date);\n  };\n  var handleDeviceSelect = function handleDeviceSelect(event) {\n    setSelectedDevice(event.target.value);\n  };\n  var handleGenerateChart = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var response, data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return fetch(\"/api/energy-consumption/daily/\".concat(selectedDevice, \"/\").concat(selectedDate.toISOString().split('T')[0]));\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return response.json();\n          case 6:\n            data = _context.sent;\n            setEnergyData(data);\n            _context.next = 13;\n            break;\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Error fetching energy consumption data:', _context.t0);\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n    return function handleGenerateChart() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Energy Consumption Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select Date: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(CalendarComponent, {\n        onDateSelect: handleDateSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Select Device: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: handleDeviceSelect,\n        value: selectedDevice,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"device1\",\n          children: \"Device 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"device2\",\n          children: \"Device 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleGenerateChart,\n      children: \"Generate Chart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, _this), selectedDate && selectedDevice && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Selected Date: \", selectedDate.toDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Selected Device: \", selectedDevice]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, _this), /*#__PURE__*/_jsxDEV(LineChart, {\n        data: energyData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, _this);\n};\n_s(EnergyConsumption, \"sL8ikuwxQaOxsEVOBHvaVD0U2U4=\");\n_c = EnergyConsumption;\nexport default EnergyConsumption;\nvar _c;\n$RefreshReg$(_c, \"EnergyConsumption\");","map":{"version":3,"names":["React","useState","useEffect","CalendarComponent","LineChart","jsxDEV","_jsxDEV","EnergyConsumption","_s","_useState","_useState2","_slicedToArray","selectedDate","setSelectedDate","_useState3","_useState4","selectedDevice","setSelectedDevice","_useState5","_useState6","energyData","setEnergyData","handleDateSelect","date","handleDeviceSelect","event","target","value","handleGenerateChart","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","wrap","_callee$","_context","prev","next","fetch","concat","toISOString","split","sent","json","t0","console","error","stop","apply","arguments","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","onDateSelect","onChange","onClick","toDateString","_c","$RefreshReg$"],"sources":["D:/MATERIALE AN 4 SEM 1/SD/proiect/ds2023_30642_fazakas_edina_assignment_1/react-demo/src/energyConsumption.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CalendarComponent from './calendarComponent';\r\nimport LineChart from './lineChart.js';\r\n\r\nconst EnergyConsumption = () => {\r\n    const [selectedDate, setSelectedDate] = useState(null);\r\n    const [selectedDevice, setSelectedDevice] = useState(null);\r\n    const [energyData, setEnergyData] = useState([]);\r\n\r\n    const handleDateSelect = (date) => {\r\n        setSelectedDate(date);\r\n    };\r\n\r\n    const handleDeviceSelect = (event) => {\r\n        setSelectedDevice(event.target.value);\r\n    };\r\n\r\n    const handleGenerateChart = async () => {\r\n        try {\r\n            const response = await fetch(`/api/energy-consumption/daily/${selectedDevice}/${selectedDate.toISOString().split('T')[0]}`);\r\n            const data = await response.json();\r\n            setEnergyData(data);\r\n        } catch (error) {\r\n            console.error('Error fetching energy consumption data:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Energy Consumption Chart</h2>\r\n\r\n            <div>\r\n                <label>Select Date: </label>\r\n                <CalendarComponent onDateSelect={handleDateSelect} />\r\n            </div>\r\n\r\n            <div>\r\n                <label>Select Device: </label>\r\n                <select onChange={handleDeviceSelect} value={selectedDevice}>\r\n                    <option value=\"device1\">Device 1</option>\r\n                    <option value=\"device2\">Device 2</option>\r\n                    {/* Add more options based on your devices */}\r\n                </select>\r\n            </div>\r\n\r\n            <button onClick={handleGenerateChart}>Generate Chart</button>\r\n\r\n            {selectedDate && selectedDevice && (\r\n                <div>\r\n                    <h3>Selected Date: {selectedDate.toDateString()}</h3>\r\n                    <h3>Selected Device: {selectedDevice}</h3>\r\n                    <LineChart data={energyData} />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EnergyConsumption;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}